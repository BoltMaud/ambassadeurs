<!DOCTYPE html>
<html lang="fr">
<head>
    <meta content="text/html; charset=UTF-8" http-equiv="Content-Type"/>
    <meta content="width=device-width, initial-scale=1, maximum-scale=1.0" name="viewport"/>
    <title>Ma Carte d'Ile de France</title>
    <link href="resources/img/iledefrance.png" rel="shortcut icon">
    <!-- CSS  -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <link href="materialize/css/materialize.css" media="screen,projection" rel="stylesheet" type="text/css"/>
    <link crossorigin="" href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css" integrity="sha512-Rksm5RenBEKSKFjgI3a41vrjkw4EVPlJ3+OiI65vTjIdo9brlAacEuKOiQ5OFh7cOI1bkDwLqdLw3Zg0cRJAAQ==" rel="stylesheet"/>
    <link href="resources/css/dataviz_style.css" media="screen,projection" rel="stylesheet" type="text/css"/>
    <link href="resources/css/style.css" media="screen,projection" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Navbar -->
<div class="navbar-fixed">
    <nav class="nav-extended red">
            <a class="brand-logo right" href="#!"><i class="medium material-icons">explore</i>Ma carte d'île-de-France</a>
            <a class="sidenav-trigger" data-target="mobile-demo" href="#"><i class="material-icons">menu</i></a>
            <ul id="tabList" class="tabs tabs-transparent hide-on-med-and-down">
                <li class="tab red"><a href="#home" class="active"><i class="material-icons left">home</i>Accueil</a></li>
                <li class="tab red"><a href="#tuto"><i class="material-icons left">assignment</i>Tutoriel</a></li>
                <li class="tab red"><a href="#map" onclick="startouille()"><i class="material-icons left">map</i>Ma carte</a></li>
                <li class="tab red"><a href="#pointEditor" onclick="startouille()"><i class="material-icons left">edit_location</i>Mes points</a></li>
                <li class="tab red"><a href="#actudescartes"><i class="material-icons left">local_florist</i>Découvrir des cartes</a></li>

            </ul>
    </nav>
</div>
<!-- Menu sur mobile -->
<ul class="sidenav" id="mobile-demo">
    <li><a href="#map"><i class="material-icons left">home</i>Accueil</a></li>
    <li><a href="#tuto"><i class="material-icons left">assignment</i>Tutoriel</a></li>
    <li><a href="#map" onclick="startouille()"><i class="material-icons left">map</i>Ma carte</a></li>
    <li><a href="#pointEditor" onclick="fillTable()"><i class="material-icons left">edit_location</i>Mes points</a></li>
    <li><a href="#actudescartes"><i class="material-icons left">local_florist</i>Découvrir des cartes</a></li>
</ul>

<!-- HOME -->
<div id="home">
    <div id="index-banner" class="parallax-container">
        <div class="section no-pad-bot">
            <div class="container">
                <br><br>
                <h1 class="header center white-text ">Ma carte d'île-de-France</h1>
                <div class="row center">
                    <h5 class="header col s12 white-text "> Créer sa carte personnalisée d'île-de-France, prendre le temps de redécouvrir sa région </h5>
                </div>
                <div class="row center">
                    <a href="#" onclick='goToTab("map")' id="download-button" class="btn-large red">Voir l'exemple</a>
                </div>
                <br><br>

            </div>
        </div>
        <div class="parallax"><img src="resources/img/banner3.jpeg" alt="Unsplashed background img 1"></div>
    </div>
    
    
    <div class="container">
        <div class="section">
            
            <!--   Icon Section   -->
            <div class="row">

                
                <div class="col s12 m4">
                    <div class="icon-block">
                        <h2 class="center red-text"><i class="material-icons">gesture</i></h2>
                        <h5 class="center">Présentation</h5>
                        
                        <p class="light center"><i>Ma Carte d'île de France</i> est un outil en ligne vous permettant d'enregistrer
                        vos points d'intérêt dans la région et les informations associées à ces points. Une fois la carte créée, un système de
                        filtres vous permet de visualiser aisément vos adresses.</p>
                    </div>
                </div>

                <div class="col s12 m4">
                    <div class="icon-block">
                        <h2 class="center red-text"><i class=" medium material-icons">edit_location</i></h2>
                        <h5 class="center">Comment ça marche ?</h5>

                        <p class="light center">Trouvez un tutoriel détaillé étape par étape, accessible aux plus jeunes comme aux anciens, pour créer votre carte
                        personnalisée d'île de France.</p>
                    </div>
                </div>
                
                <div class="col s12 m4">
                    <div class="icon-block">
                        <h2 class="center red-text"><i class="small material-icons">thumb_up</i></h2>
                        <h5 class="center">Vos cartes !</h5>
                        
                        <p class="light center">Envoyez-nous vos fichiers de carte avec votre prénom par email afin de voir votre carte
                            apparaître sur le site. Ainsi, enrichissons ensemble les bonnes adresses de la région d'île de France !
                        </p>
                    </div>
                </div>
            </div>
        
        </div>
        <br><br>
    </div>
</div>

<!-- TUTO -->
<div class="col s12 grey-text text-darken-3" id="tuto">

    <div class="container border-bottom">
        <br><br>
        <h2 class="header ">Faire ma carte en 5 étapes</h2>
        <span style="color:grey;font-size:9pt"><i>Nous publions les cartes que vous nous envoyez. Une surprise pour le premier!</i></span>
    </div>
    <div class="container">
        <div class="row">
            <div class="col s12 ">
                <h4><i class="medium material-icons red-text left">filter_1</i> Ce qu'il faut savoir avant de faire sa carte</h4>
                <div class="row">
                    <div class="col s8" style="text-align: justify;">
                        <p> Pour positionner des points sur une carte, on utilise des coordonnées géographique qui sont la <b>longitude</b> et la <b>latitude</b></p>
                        <img alt="source:https://fr.wikipedia.org/wiki/Coordonn%C3%A9es_g%C3%A9ographiques#/media/Fichier:Latitude_and_Longitude_of_the_Earth_fr.svg" src="./resources/img/test2.png" style="max-width:750px;width:100%">

                        <p>La <b>longitude</b> nous indique si un point est à l'OUEST ou à l'EST du globe par rapport au
                            <i>méridien de Greenwich</i>. Ce repère, situé en Angleterre, définit la longitude 0°.
                        Les points à l'EST ont une longitude entre 0° et 180° tandis qu'à l'OUEST, la longitude est négative jusqu'à -180°.

                        <p>
                            La <b>latitude</b> nous indique si un point est au NORD ou au SUD par rapport à l'équateur.
                            L'équateur définit la latitude 0°. La latitude est entre 0° et 180° pour le NORD et descends jusqu'à -180° pour le SUD.
                        </p>
                        <br>
                        <h5 style="color:#F44336">Exemple:</h5>
                        <p>
                            Lisbonne se trouve à l'OUEST du <i>méridien de Greenwich</i>. Sa longitude est alors inférieure à 0°. En effet, la
                        longitude de Lisbonne est -9,13°.
                            Lisbonne est bien au NORD de l'équateur. Sa latitude est alors supérieure à 0°. En effet, la longitude de Lisbonne
                        est 38.70°.
                        </p>

                    </div>
                </div>

            </div>
        </div>

        <div class="row">
            <div class="col s12 ">
                <h4><i class="medium material-icons red-text left">filter_2</i> Créer une carte vierge</h4>
                <div class="row">
                    <div class="col s8" style="text-align: justify;">
                    <p>
                    Lorsque vous cliquez sur l'onglet <b style="color:#F44336">MA CARTE</b>, un ensemble de points
                    s'affiche. C'est la carte des <i><b>Laboratoires d'île de France</b></i>. Cette carte est un exemple.
                    </p>
                        <p>
                           Pour commencer votre carte, allez dans l'onglet  <b style="color:#F44336">MES POINTS</b> et
                            cliquez sur la poubelle
                            <a class="btn-small btn-floating black tooltipped"
                                                       data-position="bottom" data-tooltip="Supprimer pour recommencer">
                            <i class="material-icons">delete</i></a> pour supprimer les points existants
                            et commencer votre carte!
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col s12 ">
                <h4><i class="medium material-icons red-text left">filter_3</i> Ajouter des points</h4>
                <div class="row">
                    <div class="col s8" style="text-align: justify;">
                        <p>
                            Trois élements sont essentiels pour ajouter des points sur votre carte: un <b>nom unique</b> (identifiant), une <b>longitude</b> et une <b>latitude</b>. Cependant
                            vous avez la possibilité d'ajouter des informations suppémentaires à l'aide du bouton
                            <a class="btn-small btn-floating black tooltipped modal-trigger" data-position="bottom" data-tooltip="Ajouter une colonne"> <i class="material-icons" style="transform:rotate(-90deg)">playlist_add</i></a>.
                        </p>
                        <h5 style="color:#F44336">Comment trouver les coordonnées des points?</h5>
                        <p>
                            De nombreux sites donnent les coordonnées géographiques grâce à l'adresse. Vous pouvez utiliser par exemple :<br> </p>
                            <ul style="padding-left:40px;" >
                                <li style="list-style-type:square">https://www.coordonnees-gps.fr/</li>
                                <li style="list-style-type:square">https://gps-coordinates.org/</li>
                            </ul>

                    </div>
                </div>

            </div>
        </div>

        <div class="row">
            <div class="col s12 ">
                <h4><i class="medium material-icons red-text left">filter_4</i> Visualiser et filtrer</h4>
                <div class="row">
                    <div class="col s8" style="text-align: justify;">
                        <p>
                        Une fois que vous avez rentré un certain nombre de points, vous pouvez visualiser votre carte en cliquant directement
                        sur l'onglet <b style="color:#F44336">MA CARTE</b>.
                        </p>
                        <p>
                            Vous pouvez filter les resultats en fonction des colonnes que vous avez enregistré!
                        </p>
                        <img src="./resources/img/resultatstuto.png" style="max-width:750px;width:100%">

                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col s12 ">
                <h4><i class="medium material-icons red-text left">filter_5</i> Enregistrer et recharger</h4>
                <div class="row">
                    <div class="col s8" style="text-align: justify;">
                        <p>Attention, nous ne stockons aucune donnée que vous enregistrez. Pour garder vos données,
                            il faut <i><b>enregistrer vos points</b></i> en cliquant sur
                            <a class="btn-small btn-floating red tooltipped" data-position="bottom" data-tooltip="Enregistrer mon fichier carte">
                                <i class="material-icons">save</i></a>. Un fichier <b>carte.csv</b> est alors généré.
                        </p>
                        <p>
                            Pour charger vos anciens points, utilisez le bouton
                            <a class="btn-small btn-floating red tooltipped modal-trigger" data-position="bottom" data-tooltip="Charger un fichier carte" ><i class="material-icons">file_download</i></a>
                            et selectionnez votre fichier <b>carte.csv</b>.
                        </p>

                    </div>
                </div>
                <h5 style="color:#F44336">Bravo! Vous enrichissez notre région en créant des cartes de bonnes adresses!</h5>
                <p>
                    Si vous souhaitez que votre carte soit disponible sur ce site web, veuillez l'envoyer à l'adresse : <a>ma-carte-d-ile-de-france@outlook.com</a>.
                </p>

            </div>
        </div>



    </div>

</div>

<!-- MAP -->
<div class="col s12" id="map">
    <div class="navbar-fixed">
        <nav class="white">
            <div class="nav-content">
                <!-- Map Title -->
                <a class="brand-logo right red-text" id="maptitle" >Laboratoires publiques</a>
                <div class="row">
                    <!-- Filter selector -->
                    <div class="col s4">
                        <div class="input-field white">
                            <i class="material-icons prefix red-text">filter_list</i>
                            <select id="filterOnAttributes">
                                <option disabled id="titleFilter" selected value="">Filtre ...</option>
                            </select>
                        </div>
                    </div>
    
                    <div class="col s3" id="filterIs">
                    </div>
                    <div class="col s1" id="addFilter">
                        <a class="btn waves-effect waves-light" onclick="addFilter()">OK</a>
                    </div>
                    <!-- Active filters -->
                    <!-- TODO: need better design when many filters -->
                    <div class="col s4" id="filters"></div>
                </div>
            </div>
        </nav>
    </div>
    <div class="row">
        <!-- Box List -->
        <div id="results" class="col s4 grey lighten-3">
            <!-- Filled by boxes.js:displayBox(item) -->
        </div>
        <!-- Map with points -->
        <div class="col s8" id="divcarte">
            <div class="row" id="carte">
                <!-- Filled by map.js:initMap -->
            </div>
        </div>
    </div>
</div>

<!-- POINTS -->
<div class="col s12" id="pointEditor">
    <br>
    <div class="container">
        <div class="row">
            <div class="container ">
                <div class="input-field ">
                    <i class="material-icons prefix">mode_edit</i>
                    <input  id="newTitle" type="text" class="validate" onchange="changeTitle(this.value)" value="Laboratoires publiques">
                    <label for="newTitle">Titre de la carte</label>
                </div>
                <div class="right">
                    <a class="btn-small btn-floating black tooltipped"
                       data-position="bottom" data-tooltip="Supprimer pour recommencer"
                       onclick="createNew()">
                        <i class="material-icons">delete_sweep</i></a>
                    <a class="btn-small btn-floating red tooltipped modal-trigger" data-position="bottom" data-tooltip="Charger un fichier carte" href="#LoadFileModal"><i class="material-icons">file_download</i></a>
                    <a class="btn-small btn-floating red tooltipped"
                       data-position="bottom" data-tooltip="Enregistrer mon fichier carte"
                       onclick="exportFile()">
                        <i class="material-icons">save</i></a>
                </div>
            </div>
        </div>

    </div>
    <div class="container table-wrapper responsive-table table-status-sheet">

        <table>
            <thead>
                <tr id="headerOfTableOfPoints">

                </tr>
                <tr id="inputDataInTable">

                </tr>
            </thead>
            <tbody id="tableOfElements">

            </tbody>
        </table>
        <br>
    </div>
    <br>
    <br>
    <i style="color:grey;"> Confidentialité: les informations rentrées sont uniquement stockées sur votre navigateur, nous n'y avons pas accès.</i>
    <!-- Modal Trigger -->
</div>

<!-- LES CARTES -->
<div class="col s12" id="actudescartes">
    <div class="container border-bottom">
        <br><br>
        <span style="color:grey;font-size:12pt"><i> Voici une belle liste de cartes, faites par des utilisateurs, pour votre plus grand plaisir. Parcourez différents types de projets,
            inspirez vous pour faire votre propre carte ou simplement découvrir de nouveaux lieux. </i></span>
    </div>
    <br>
    <div class="container">
        <div class="row">
            <div class="col s4 ">
                <div class="card hoverable grey lighten-3">
                    <a href="#map" class="waves-effect waves-red btn-flat card-btn"  onclick="changeFileToLoad('project_data/stucoco.csv')">
                        <div class="card-content"><span class="card-title">
                        <h6>STUCOCO</h6></span>
                           <span style="color:grey;font-size:10pt"> Stucoco is a platform for students to discover and share the cultural contents that matter to them.
                            <br><br>
                            Find the map of Stucoco!</span>
                            <br>
                            <div class="card-action" style="padding-left:0px !important">
                                http://stucoco.fr/</div>
                        </div>
                    </a>
                </div>
            </div>
            <div class="col s4 ">
                <div class="card hoverable grey lighten-3">
                    <a class="waves-effect waves-red btn-flat card-btn" onclick="changeFileToLoad('project_data/data.csv')">
                        <div class="card-content"><span class="card-title">
                        <h6>Laboratoire d'île de France</h6></span>
                            <span style="color:grey;font-size:10pt">
                                Vous souhaitez avoir une vue des laboratoires d'île de France ? C'est par ici!
                            </span>
                            <div class="card-action" style="padding-left:0px !important">
                                C'est l'exemple du site!</div>
                        </div>
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>

<footer class="page-footer grey darken-2">
    <div class="container ">
        <div class="row">
            <div class="col l9 s12">
                <h5 class="white-text">Contexte du projet</h5>
                <p class="grey-text text-lighten-4">L'outil <b>Ma Carte d'île de France</b> a été développée dans le cadre des <a href="https://www.iledefrance.fr/trophees-des-etudiants-ambassadeurs-de-lile-de-france-2019-2020">Trophées des étudiants-ambassadeurs de l'Île-de-France 2019-2020</a>.
                    La région d'île de France organise ce concours destiné aux étudiants en mobilité internationale afin de leur apporter une aide financière.
                    Cette récompense est alors destinée aux participants ayant 
                    ués à la mise en valeur de la richesse de la région d'île de France.
                </p>
            
            
            </div>
            <div class="col l3 s12">
                <h5 class="white-text">Par</h5>
                <ul>
                    <li>Créateur: Mathilde Boltenhagen</li>
                    <li>Aide technique: Arthur Scheidel</li>
                </ul>
            </div>
        </div>
    </div>
    <div class="footer-copyright grey darken-3">
        <div class="container">
            <a href="#contact"><i class="material-icons left">alternate_email</i> ma-carte-d-ile-de-france@outlook.com </a>
        </div>
    </div>
    <div class="footer-copyright grey darken-4">
        <div class="container">
            Made with <a class="grey-text text-lighten-3" href="http://materializecss.com">Materialize</a><br>
            Images: <a class="grey-text text-lighten-3" href="https://pxhere.com/fr/photo/1366342">Fond</a>,
            <a class="grey-text text-lighten-3" href="https://fr.wikipedia.org/wiki/Coordonn%C3%A9es_g%C3%A9ographiques#/media/Fichier:Latitude_and_Longitude_of_the_Earth_fr.svg">Globe Longitude/Latitude</a>
            <br>Données des laboratoires: <a class="grey-text text-lighten-3" href="https://data.enseignementsup-recherche.gouv.fr/explore/dataset/fr-esr-structures-recherche-publiques-actives/table/?disjunctive.numero_national_de_structure&disjunctive.tutelles
">Structures de recherches publiques actives</a>,
            <a class="grey-text text-lighten-3" href="https://data.iledefrance.fr/explore/dataset/entites-constituant-les-domaines-dinteret-majeur-labellises/information">Domaines d'interêt majeur</a>
        </div>
    </div>
</footer>

<!-- Modal New Column  -->
<div id="NewColModal" class="modal">
    <div class="modal-content">
        <label for="newColumnName">Nom de la colonne</label>
        <div class="input-field"><input  id="newColumnName" type="text" class="validate"></div>
        <a class="modal-close right btn-small btn-floating tooltipped" style="margin:10px" data-tooltip="Valider"
           onclick="addColumn()" href="#!">
            <i class="material-icons">check</i></a>
    </div>
</div>

<!-- Modal Load File  -->
<div id="LoadFileModal" class="modal">
    <div class="modal-content">
        <h4>Charger mon fichier carte</h4>
        <div class="modal-footer">
            <div class="row valign-wrapper">
                <div class="file-field input-field col s8">
                    <div class="btn">
                        <span>Parcourir</span>
                        <input type="file" id="csvFileInput" accept=".csv" name="selectedFile[]" onchange="SelectFile(this.files)">
                    </div>
                    <div class="file-path-wrapper">
                        <input class="file-path validate" type="text" placeholder="Charger un fichier carte (.CSV)">
                    </div>
                    <!--        <input type="file" id="csvFileInput" class="left" accept=".csv" name="selectedFile[]" onchange="SelectFile(this.files)"/>-->
                    <!--        <output id="selectedFile"></output>-->
                </div>
                <div class="col s4">
                    <a class="modal-close btn-small btn-floating red tooltipped" href="#!" data-position="bottom" data-tooltip="Annuler">
                        <i class="material-icons">close</i></a>
                    <a class="modal-close btn-small btn-floating tooltipped" href="#!" data-position="bottom" data-tooltip="Accepter">
                        <i class="material-icons" onclick="UploadFile()">check</i></a>
                </div>
            </div>
        </div>
    </div>
</div>

<!--  Scripts-->
<!-- 3rd party Scripts-->
<script src="materialize/js/materialize.js"></script>
<script src="materialize/js/init.js"></script>
<script crossorigin="" integrity="sha512-/Nsx9X4HebavoBvEBuyp3I7od5tA0UzAxs+j83KgC8PU0kgB4XiK4Lfe4y4cgBtaRJQEIFCW+oC506aPT2L1zw==" src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js"></script>
<script src="https://d3js.org/d3.v4.min.js"></script>

<!-- Notre code -->
<script src="scripts/map.js"></script>
<script src="scripts/main.js"></script>
<script src="scripts/filters.js"></script>
<script src="scripts/boxes.js"></script>
<script src="scripts/pointEditor.js"></script>
</body>
</html>
